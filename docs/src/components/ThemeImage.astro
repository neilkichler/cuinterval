---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro:assets';

interface Props {
  src: ImageMetadata;
  alt?: string;
  class?: string;
  priority?: boolean;
  layout?: 'constrained' | 'fixed' | 'fullWidth';
  widths?: number[];
  sizes?: string;
}

const {
  src,
  alt = "",
  class: className = "theme-image",
  priority = false,
  layout = 'constrained',
  widths = [320, 480, 640, 750, 828, 1080, 1200],
  sizes = "(max-width: 768px) 100vw, 50vw"
} = Astro.props as Props;
---

<Image
  src={src}
  alt={alt}
  class={className}
  priority={priority}
  layout={layout}
  widths={widths}
  sizes={sizes}
/>

<style>
  :global(html[data-theme="dark"]) img {
    filter: invert(1);
  }
</style>
